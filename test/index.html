<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		 <link rel="stylesheet" type="text/css" href="./default.css">
		 <link rel="stylesheet" href="bootstrap-4.0.0-dist/css/bootstrap.css">
		 <link rel="stylesheet" href="./bs4.pop.css">
		 <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.3.1.min.js"></script>
		 <script src="bs4.pop.js"></script>
		 <script src="./bootstrap-4.0.0-dist/js/bootstrap.js"></script>
		 <script>
			 //锅里的油条集合  0-没有油条 1-有油条
			 var tArray = new Array();
			 for(var k=0;k<10;k++){ 
				tArray[k]=new Array(); 
				for(var j=0;j<10;j++){ 
					tArray[k][j]=0; 
				}
			 }
			 //油条是否炸好 0-没有油条 1-有油条没炸好 2-油条炸好
			 var timer = new Array();
			 for(var k=0;k<10;k++){ 
			 	timer[k]=new Array(); 
			 	for(var j=0;j<10;j++){ 
			 		timer[k][j]=0; 
			 	}
			 }
			 //货架油条 0-没有货 1-有货
			 var shelf = new Array();
			 for(var k=0;k<10;k++){ 
			 	shelf[k]=new Array(); 
			 	for(var j=0;j<10;j++){ 
			 		shelf[k][j]=0; 
			 	}
			 }
			 
			 var totalNum=0;
			 var shengNum=0;
			 var wanchengNum=0;
			 var flag=0;
			 var m,n;
			 
			 $(document).ready(function(){
				 //炸油条 3s炸好
				function setTime( i, j){
				 	setTimeout(function(){
						timer[i][j]=2;
						var str=(i+1)+"-"+(j+1);
						$("#"+str).attr("background","wancheng.jpg");
						shengNum=shengNum-1;
						wanchengNum=wanchengNum+1;
						$("#label-no").text(shengNum);
						$("#label-ok").text(wanchengNum);
					},5000);			  
				}
				//阿姨夹油条
				function myFunction() {
				    setInterval(function(){ 
						var objectArray=new Array();
						sss:
						for(var i=0;i<10;i++){
							//mmm:
							for(var j=0;j<10;j++){
								//随机夹
								if(timer[i][j]==2){
									var str=(i+1)+"-"+(j+1);
									objectArray.push(str);
								}
								//顺序夹
								// if(timer[i][j]==2){
								// 	var str=(i+1)+"-"+(j+1);
								// 	$("#"+str).attr("background","blank.png");
								// 	timer[i][j]=0;
								// 	tArray[i][j]=0;
								// 	wanchengNum=wanchengNum-1;
								// 	totalNum=totalNum-1;
								// 	$("#label-num").text(totalNum);
								// 	$("#label-ok").text(wanchengNum);
								// 	nnn:
								// 	for(var m=0;m<10;m++)
								// 		for(var n=0;n<10;n++){
								// 			if(shelf[m][n]==0){
								// 				var c;
								// 				switch(m){
								// 					case 0:c='a';break;
								// 					case 1:c='b';break;
								// 					case 2:c='c';break;
								// 					case 3:c='d';break;
								// 					case 4:c='e';break;
								// 					case 5:c='f';break;
								// 					case 6:c='g';break;
								// 					case 7:c='h';break;
								// 					case 8:c='i';break;
								// 					case 9:c='j';break;
								// 					default:c='n';
								// 				}
								// 				shelf[m][n]=1;
								// 				var str1=c+"-"+(n+1);
								// 				//console.log(str1);
								// 				$("#"+str1).attr("background","wancheng.jpg");
								// 				bs4pop.notice('阿姨夹了一根油条', {position: 'bottomcenter'});
								// 				break nnn;
								// 			}
								// 		}
								// 	break sss;
								}
							}						
						var index = Math.floor((Math.random()*objectArray.length));
						m=objectArray[index].charAt(0);
						n=objectArray[index].charAt(2);
						var x =parseInt(m);
						var y=parseInt(n);
						timer[x-1][y-1]=0;
						tArray[x-1][y-1]=0;
						$("#"+objectArray[index]).attr("background","blank.png");
						wanchengNum=wanchengNum-1;
						totalNum=totalNum-1;
						$("#label-num").text(totalNum);
						$("#label-ok").text(wanchengNum);
						nnn :
						for(var m=0;m<10;m++)
							for(var n=0;n<10;n++){
								if(shelf[m][n]==0){
									var c;
									switch(m){
										case 0:c='a';break;
										case 1:c='b';break;
										case 2:c='c';break;
										case 3:c='d';break;
										case 4:c='e';break;
										case 5:c='f';break;
										case 6:c='g';break;
										case 7:c='h';break;
										case 8:c='i';break;
										case 9:c='j';break;
										default:c='n';
									}
									shelf[m][n]=1;
									var str1=c+"-"+(n+1);
									var left = $("#"+objectArray[index]).offset().left;//元素相当于窗口的左边的偏移量
									var top = $("#"+objectArray[index]).offset().top;//元素相对于窗口的上边的偏移量
									var width = $("#"+objectArray[index]).width();
									var height = $("#"+objectArray[index]).height();
									var left1=$("#"+str1).offset().left;
									var top1=$("#"+str1).offset().top;
									//移动动画
									$("#box").css({'top':top,'left':left});
									$("#box").css('display','block');
									//$("#box").css("background",'url(wancheng.jpg)');
									bs4pop.notice('阿姨夹了一根油条', {position: 'bottomcenter'});
									$("#box").animate({'left': left1,'top':top1,'width':61,'height':61}, "slow",function(){
										$("#"+str1).attr("background","wancheng.jpg");
										$("#box").css('display','none');
									});
									break nnn;
								}
							}
						// //清空数组
						objectArray.length=0;
						
					}, 3000);
				}
				
				$("#image-add").click(function(){
					if(flag==0){
						flag=1;
						//阿姨开始工作
						myFunction();
					}
					for(var i=0;i<10;i++){
						for(var j=0;j<10;j++){
							if(tArray[i][j]!=1){
								var str=(i+1)+"-"+(j+1);
								//alert(str);
								$("#"+str).attr("background","sheng.jpg");
								tArray[i][j]=1;
								timer[i][j]=1;
								setTime(i,j);
								totalNum=totalNum+1;
								shengNum=shengNum+1;
								$("#label-num").text(totalNum);
								$("#label-no").text(shengNum);
								return false;
							}
						}
					}
					})
			  
					$("#eat").click(function(){
						for(var m=0;m<10;m++)
							for(var n=0;n<10;n++){
								if(shelf[m][n]!=0){
									var c;
									switch(m){
										case 0:c='a';break;
										case 1:c='b';break;
										case 2:c='c';break;
										case 3:c='d';break;
										case 4:c='e';break;
										case 5:c='f';break;
										case 6:c='g';break;
										case 7:c='h';break;
										case 8:c='i';break;
										case 9:c='j';break;
										default:c='n';
									}
									shelf[m][n]=0;
									var str=c+"-"+(n+1);
									//console.log(str);
									$("#"+str).attr("background","blank.jpg");
									return false;
								}
							}
					})
			  
			 });
		 </script>
	</head>
	<body>
		<div id="div-default">
		    <div id="div-pot">
				<li><button id="image-add">放入油锅</button></li>
				<li><label>锅内油条数量:</label><label id="label-num">0</label></li>
				<li><label>未炸好:</label><label id="label-no">0</label></li>
				<li><label>炸好:</label><label id="label-ok">0</label></li>
				<div id="div-pot-container">
					<table id="image-table" border="0" cellspacing="0" cellpadding="0">
						<tr id="1">
							<td id="1-1"></td>
							<td id="1-2"></td>
							<td id="1-3"></td>
							<td id="1-4"></td>
							<td id="1-5"></td>
							<td id="1-6"></td>
							<td id="1-7"></td>
							<td id="1-8"></td>
							<td id="1-9"></td>
							<td id="1-10"></td>
						</tr>
						<tr id="2">
							<td id="2-1"></td>
							<td id="2-2"></td>
							<td id="2-3"></td>
							<td id="2-4"></td>
							<td id="2-5"></td>
							<td id="2-6"></td>
							<td id="2-7"></td>
							<td id="2-8"></td>
							<td id="2-9"></td>
							<td id="2-10"></td>
						</tr>
						<tr id="3">
							<td id="3-1"></td>
							<td id="3-2"></td>
							<td id="3-3"></td>
							<td id="3-4"></td>
							<td id="3-5"></td>
							<td id="3-6"></td>
							<td id="3-7"></td>
							<td id="3-8"></td>
							<td id="3-9"></td>
							<td id="3-10"></td>
						</tr>
						<tr id="4">
							<td id="4-1"></td>
							<td id="4-2"></td>
							<td id="4-3"></td>
							<td id="4-4"></td>
							<td id="4-5"></td>
							<td id="4-6"></td>
							<td id="4-7"></td>
							<td id="4-8"></td>
							<td id="4-9"></td>
							<td id="4-10"></td>
						</tr>
						<tr id="5">
							<td id="5-1"></td>
							<td id="5-2"></td>
							<td id="5-3"></td>
							<td id="5-4"></td>
							<td id="5-5"></td>
							<td id="5-6"></td>
							<td id="5-7"></td>
							<td id="5-8"></td>
							<td id="5-9"></td>
							<td id="5-10"></td>
						</tr>
						<tr id="6">
							<td id="6-1"></td>
							<td id="6-2"></td>
							<td id="6-3"></td>
							<td id="6-4"></td>
							<td id="6-5"></td>
							<td id="6-6"></td>
							<td id="6-7"></td>
							<td id="6-8"></td>
							<td id="6-9"></td>
							<td id="6-10"></td>
						</tr>
						<tr id="7">
							<td id="7-1"></td>
							<td id="7-2"></td>
							<td id="7-3"></td>
							<td id="7-4"></td>
							<td id="7-5"></td>
							<td id="7-6"></td>
							<td id="7-7"></td>
							<td id="7-8"></td>
							<td id="7-9"></td>
							<td id="7-10"></td>
						</tr>
						<tr id="8">
							<td id="8-1"></td>
							<td id="8-2"></td>
							<td id="8-3"></td>
							<td id="8-4"></td>
							<td id="8-5"></td>
							<td id="8-6"></td>
							<td id="8-7"></td>
							<td id="8-8"></td>
							<td id="8-9"></td>
							<td id="8-10"></td>
						</tr>
						<tr id="9">
							<td id="9-1"></td>
							<td id="9-2"></td>
							<td id="9-3"></td>
							<td id="9-4"></td>
							<td id="9-5"></td>
							<td id="9-6"></td>
							<td id="9-7"></td>
							<td id="9-8"></td>
							<td id="9-9"></td>
							<td id="9-10"></td>
						</tr>
						<tr id="10">
							<td id="10-1"></td>
							<td id="10-2"></td>
							<td id="10-3"></td>
							<td id="10-4"></td>
							<td id="10-5"></td>
							<td id="10-6"></td>
							<td id="10-7"></td>
							<td id="10-8"></td>
							<td id="10-9"></td>
							<td id="10-10"></td>
						</tr>
					</table>
				</div>
				<div id="sell">
					<button id="eat">卖掉一根</button>
				</div>
		    </div>
		    <div id="div-shelf">
				<table id="image-table" border="0" cellspacing="0" cellpadding="0">
					<tr id="a">
						<td id="a-1"></td>
						<td id="a-2"></td>
						<td id="a-3"></td>
						<td id="a-4"></td>
						<td id="a-5"></td>
						<td id="a-6"></td>
						<td id="a-7"></td>
						<td id="a-8"></td>
						<td id="a-9"></td>
						<td id="a-10"></td>
					</tr>
					<tr id="b">
						<td id="b-1"></td>
						<td id="b-2"></td>
						<td id="b-3"></td>
						<td id="b-4"></td>
						<td id="b-5"></td>
						<td id="b-6"></td>
						<td id="b-7"></td>
						<td id="b-8"></td>
						<td id="b-9"></td>
						<td id="b-10"></td>
					</tr>
					<tr id="c">
						<td id="c-1"></td>
						<td id="c-2"></td>
						<td id="c-3"></td>
						<td id="c-4"></td>
						<td id="c-5"></td>
						<td id="c-6"></td>
						<td id="c-7"></td>
						<td id="c-8"></td>
						<td id="c-9"></td>
						<td id="c-10"></td>
					</tr>
					<tr id="d">
						<td id="d-1"></td>
						<td id="d-2"></td>
						<td id="d-3"></td>
						<td id="d-4"></td>
						<td id="d-5"></td>
						<td id="d-6"></td>
						<td id="d-7"></td>
						<td id="d-8"></td>
						<td id="d-9"></td>
						<td id="d-10"></td>
					</tr>
					<tr id="e">
						<td id="e-1"></td>
						<td id="e-2"></td>
						<td id="e-3"></td>
						<td id="e-4"></td>
						<td id="e-5"></td>
						<td id="e-6"></td>
						<td id="e-7"></td>
						<td id="e-8"></td>
						<td id="e-9"></td>
						<td id="e-10"></td>
					</tr>
					<tr id="f">
						<td id="f-1"></td>
						<td id="f-2"></td>
						<td id="f-3"></td>
						<td id="f-4"></td>
						<td id="f-5"></td>
						<td id="f-6"></td>
						<td id="f-7"></td>
						<td id="f-8"></td>
						<td id="f-9"></td>
						<td id="f-10"></td>
					</tr>
					<tr id="g">
						<td id="g-1"></td>
						<td id="g-2"></td>
						<td id="g-3"></td>
						<td id="g-4"></td>
						<td id="g-5"></td>
						<td id="g-6"></td>
						<td id="g-7"></td>
						<td id="g-8"></td>
						<td id="g-9"></td>
						<td id="g-10"></td>
					</tr>
					<tr id="h">
						<td id="h-1"></td>
						<td id="h-2"></td>
						<td id="h-3"></td>
						<td id="h-4"></td>
						<td id="h-5"></td>
						<td id="h-6"></td>
						<td id="h-7"></td>
						<td id="h-8"></td>
						<td id="h-9"></td>
						<td id="h-10"></td>
					</tr>
					<tr id="i">
						<td id="i-1"></td>
						<td id="i-2"></td>
						<td id="i-3"></td>
						<td id="i-4"></td>
						<td id="i-5"></td>
						<td id="i-6"></td>
						<td id="i-7"></td>
						<td id="i-8"></td>
						<td id="i-9"></td>
						<td id="i-10"></td>
					</tr>
					<tr id="j">
						<td id="j-1"></td>
						<td id="j-2"></td>
						<td id="j-3"></td>
						<td id="j-4"></td>
						<td id="j-5"></td>
						<td id="j-6"></td>
						<td id="j-7"></td>
						<td id="j-8"></td>
						<td id="j-9"></td>
						<td id="j-10"></td>
					</tr>
				</table>
		    </div>
		</div>
		<div id="box" >
			
		</div>
		<div id="throwBox">
			
		</div>
	</body>
</html>
